<div dir="rtl">

# פרויקט מסכם בדוקר ודוקר קומפוז

## מבוא

בפרויקט זה תתבקשו לבנות אפליקציית פולסטאק מלאה הכוללת **Front-end**, **Back-end Server**, ו-**Database**. המטרה היא ליישם את הידע שצברתם בדוקר ודוקר קומפוז, כולל יצירת אימג'ים, העלאתם ל-Docker Hub, שימוש בווליום, סיקרטים, רשתות (Bridge), ושילוב האימג'ים בתוך Docker Compose.

**הערה**: קוד האפליקציה יסופק לכם. תפקידכם הוא לדאוג לדוקריזציה מלאה של האפליקציה ולוודא שהיא פועלת כמצופה בסביבת דוקר.

---

## דרישות המבחן

### חלק 1: הכנת הסביבה

1. **קבלת קוד האפליקציה**:
   - הורידו את קוד האפליקציה המסופק לכם, הכולל:
     - תיקיית `frontend` - אפליקציית React פשוטה.
     - תיקיית `backend` - שרת Node.js עם Express.
     - קבצי הגדרות נוספים לפי הצורך.

2. **הבנת מבנה האפליקציה**:
   - ה-Frontend מתקשר עם ה-Backend באמצעות REST API.
   - ה-Backend מתקשר עם מסד נתונים מסוג **MongoDB**.

### חלק 2: יצירת אימג'ים עם Docker

#### א. כתיבת Dockerfile לכל רכיב

1. **Frontend**:
   - צרו `Dockerfile` עבור אפליקציית ה-React.
   - הקפידו על:
     - שימוש בתמונת בסיס מתאימה (`node` עם הגרסה המתאימה).
     - התקנת התלויות באמצעות `npm install`.
     - בניית האפליקציה באמצעות `npm run build`.
     - שימוש בתמונת בסיס של שרת סטטי (למשל `nginx`) לאחסון הקבצים הסטטיים.

2. **Backend**:
   - צרו `Dockerfile` עבור שרת ה-Node.js.
   - הקפידו על:
     - שימוש בתמונת בסיס מתאימה (`node`).
     - העתקת הקוד והתקנת התלויות.
     - הגדרת פקודת ההפעלה (`CMD` או `ENTRYPOINT`).
     - הגדרת משתני סביבה הנדרשים (לדוגמה, פרטי חיבור למסד הנתונים).

#### ב. בניית האימג'ים והעלאה ל-Docker Hub

1. **בניית האימג'ים**:
   - בנו את האימג'ים עבור `frontend` ו-`backend` באמצעות הפקודה `docker build` בכל תיקייה מתאימה.

2. **התחברות ל-Docker Hub**:
   - התחברו לחשבון ה-Docker Hub שלכם באמצעות `docker login`.

3. **תיוג האימג'ים**:
   - תייגו את האימג'ים עם שם המשתמש שלכם ב-Docker Hub, לדוגמה:
     - `docker tag frontend-image username/frontend-image`
     - `docker tag backend-image username/backend-image`

4. **העלאת האימג'ים**:
   - העלו את האימג'ים ל-Docker Hub באמצעות `docker push`:
     - `docker push username/frontend-image`
     - `docker push username/backend-image`

### חלק 3: שימוש באימג'ים עם Docker Compose

#### א. יצירת קובץ `docker-compose.yml`

1. **יצירת הקובץ**:
   - צרו קובץ `docker-compose.yml` בתיקיית הפרויקט הראשית.

2. **הגדרת השירותים**:
   - הגדירו שלושה שירותים:
     - `frontend`
     - `backend`
     - `database`

#### ב. הגדרות לכל שירות

- **frontend**:
  - השתמשו באימג' שהעליתם ל-Docker Hub: `username/frontend-image`.
  - הפנו את הפורט 80 של הקונטיינר לפורט 3000 במכונה המקומית.
  - הגדירו תלות ב-`backend` כדי לוודא שה-Backend פועל לפני ה-Frontend.

- **backend**:
  - השתמשו באימג' שהעליתם ל-Docker Hub: `username/backend-image`.
  - הגדירו משתני סביבה הנדרשים (לדוגמה, פרטי חיבור למסד הנתונים).
  - השתמשו ב-**secrets** כדי להעביר מידע רגיש כמו סיסמאות.
  - הגדירו את הרשת המתאימה לתקשורת עם ה-`database`.

- **database**:
  - השתמשו בתמונה רשמית של **MongoDB**.
  - הגדירו ווליום לשמירת נתונים מתמשכת.
  - הגדירו סיסמאות ומשתני סביבה נדרשים באמצעות **secrets**.

#### ג. הגדרת רשתות

- צרו רשת מסוג `bridge` שתחבר בין השירותים.
- וודאו שהשירותים יכולים לתקשר זה עם זה באמצעות שמות השירותים.

### חלק 4: שימוש בווליום

- הגדירו ווליום עבור שירות ה-`database` כדי לשמור את הנתונים גם לאחר עצירת הקונטיינר.
- וודאו שהווליום מוגדר ב-`docker-compose.yml`.

### חלק 5: שימוש בסיקרטים

- צרו סיקרטים עבור מידע רגיש כמו סיסמאות למסד הנתונים.
- הגדירו את הסיקרטים ב-`docker-compose.yml` והשתמשו בהם בשירותים המתאימים.

### חלק 6: בדיקת האפליקציה

- הפעילו את האפליקציה באמצעות `docker-compose up`.
- גשו לדפדפן ובדקו שהאפליקציה פועלת כמצופה.
- וודאו שה-Frontend מתקשר עם ה-Backend, וה-Backend מתקשר עם ה-Database.

---

## דרישות נוספות

- **תיעוד**: צרו קובץ `README.md` שבו תסבירו כיצד להריץ את האפליקציה, כולל הפקודות הנדרשות.
- **משתני סביבה**: עליכם לטפל במשתני הסביבה הנדרשים לאפליקציה, ולוודא שהם מוגדרים כראוי בקבצי ה-Docker וב-Docker Compose.
- **ניקיון קוד**: ודאו שהקוד וההגדרות שלכם נקיים ומסודרים, עם הערות במידת הצורך.

---

## קריטריונים להערכה

- **השלמה מלאה של הדרישות**: כל החלקים הושלמו ופועלים כמצופה.
- **שימוש נכון בדוקר ובדוקר קומפוז**: שימוש תקני בכלים ובהגדרות.
- **ניהול סיקרטים ומשתני סביבה**: טיפול נכון ומאובטח במידע רגיש.
- **תיעוד והסברים**: קובץ `README.md` מפורט וברור.
- **העלאת אימג'ים ל-Docker Hub**: האימג'ים זמינים בחשבון שלכם ומשמשים ב-Docker Compose.
- **בדיקות ותפקוד האפליקציה**: האפליקציה פועלת ללא שגיאות, וכל הרכיבים מתקשרים ביניהם.

---

## הגשה

- הגישו את קבצי הפרויקט, כולל קבצי ה-Docker, Docker Compose, וקובץ ה-`README.md`.
- ציינו את קישורי האימג'ים שלכם ב-Docker Hub.
- וודאו שהכל מסודר בתיקייה אחת וניתן להרצה על ידי המרצה.

---

## טיפים

- **עבודה בשלבים**:
  - התחילו בבניית האימג'ים ובדיקתם בנפרד באמצעות Docker.
  - לאחר שהאימג'ים פועלים כמצופה, עברו לשלב השימוש ב-Docker Compose.

- **בדיקת תקשורת בין השירותים**:
  - השתמשו בפקודה `docker-compose logs` כדי לבדוק את הלוגים של השירותים.
  - וודאו שהשירותים מתקשרים זה עם זה ושאין שגיאות בחיבור למסד הנתונים.

- **דיבאגינג**:
  - אם נתקלתם בבעיות, נסו להריץ כל שירות בנפרד כדי לזהות את הבעיה.
  - השתמשו בפקודה `docker run` עם דגל `-it` כדי להריץ קונטיינר במצב אינטראקטיבי.

- **שמות שירותים ורשתות**:
  - זכרו שב-Docker Compose, השירותים יכולים לתקשר זה עם זה באמצעות שמות השירותים שהגדרתם.

- **וודאו תאימות גרסאות**:
  - וודאו שגרסאות התלויות והכלים שלכם (Node.js, MongoDB וכו') תואמות זו לזו.

---

בהצלחה!

---

אם יש לכם שאלות, אל תהססו לפנות.

</div>